<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Foreign Functions - Scallop Book</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="Use Scallop for Logic Programming and Neuro-symbolic Programming">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

        <!-- MathJax -->
        <script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = null;
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../introduction.html">Introduction</a></li><li class="chapter-item expanded affix "><li class="part-title">Getting Started</li><li class="chapter-item expanded "><a href="../installation.html"><strong aria-hidden="true">1.</strong> Installation</a></li><li class="chapter-item expanded "><a href="../crash_course.html"><strong aria-hidden="true">2.</strong> Crash Course</a></li><li class="chapter-item expanded affix "><li class="part-title">Language Reference Guide</li><li class="chapter-item expanded "><a href="../language/index.html"><strong aria-hidden="true">3.</strong> Scallop and Logic Programming</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../language/relation.html"><strong aria-hidden="true">3.1.</strong> Relations and Facts</a></li><li class="chapter-item expanded "><a href="../language/rules.html"><strong aria-hidden="true">3.2.</strong> Writing Rules</a></li><li class="chapter-item expanded "><a href="../language/value_type.html"><strong aria-hidden="true">3.3.</strong> Values and Types</a></li><li class="chapter-item expanded "><a href="../language/query.html"><strong aria-hidden="true">3.4.</strong> Writing a Query</a></li><li class="chapter-item expanded "><a href="../language/recursion.html"><strong aria-hidden="true">3.5.</strong> Recursive Rules</a></li><li class="chapter-item expanded "><a href="../language/negation.html"><strong aria-hidden="true">3.6.</strong> Negations</a></li><li class="chapter-item expanded "><a href="../language/aggregation.html"><strong aria-hidden="true">3.7.</strong> Aggregations</a></li><li class="chapter-item expanded "><a href="../language/constants.html"><strong aria-hidden="true">3.8.</strong> Declaring Constants</a></li><li class="chapter-item expanded "><a href="../language/adt_and_entity.html"><strong aria-hidden="true">3.9.</strong> Algebraic Data Type and Entities</a></li><li class="chapter-item expanded "><a href="../language/magic_set.html"><strong aria-hidden="true">3.10.</strong> On-Demand Predicates</a></li><li class="chapter-item expanded "><a href="../language/loading_csv.html"><strong aria-hidden="true">3.11.</strong> Loading from CSV</a></li><li class="chapter-item expanded "><a href="../language/foreign_functions.html" class="active"><strong aria-hidden="true">3.12.</strong> Foreign Functions</a></li><li class="chapter-item expanded "><a href="../language/foreign_predicates.html"><strong aria-hidden="true">3.13.</strong> Foreign Predicates</a></li><li class="chapter-item expanded "><a href="../language/reference_guide.html"><strong aria-hidden="true">3.14.</strong> Reference Guide</a></li></ol></li><li class="chapter-item expanded "><a href="../probabilistic/index.html"><strong aria-hidden="true">4.</strong> Provenance and Probabilistic Programming</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../probabilistic/provenance.html"><strong aria-hidden="true">4.1.</strong> Provenance</a></li><li class="chapter-item expanded "><a href="../probabilistic/proofs.html"><strong aria-hidden="true">4.2.</strong> Proofs Provenance</a></li><li class="chapter-item expanded "><a href="../probabilistic/facts.html"><strong aria-hidden="true">4.3.</strong> Fact with Probability</a></li><li class="chapter-item expanded "><a href="../probabilistic/logic.html"><strong aria-hidden="true">4.4.</strong> Logic and Probability</a></li><li class="chapter-item expanded "><a href="../probabilistic/library.html"><strong aria-hidden="true">4.5.</strong> Provenance Library</a></li><li class="chapter-item expanded "><a href="../probabilistic/aggregation.html"><strong aria-hidden="true">4.6.</strong> Aggregation and Probability</a></li><li class="chapter-item expanded "><a href="../probabilistic/sampling.html"><strong aria-hidden="true">4.7.</strong> Sampling with Probability</a></li></ol></li><li class="chapter-item expanded "><a href="../scallopy/index.html"><strong aria-hidden="true">5.</strong> scallopy</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../scallopy/getting_started.html"><strong aria-hidden="true">5.1.</strong> Getting Started</a></li><li class="chapter-item expanded "><a href="../scallopy/context.html"><strong aria-hidden="true">5.2.</strong> Scallop Context</a></li><li class="chapter-item expanded "><a href="../scallopy/branching.html"><strong aria-hidden="true">5.3.</strong> Branching Executions</a></li><li class="chapter-item expanded "><a href="../scallopy/provenance.html"><strong aria-hidden="true">5.4.</strong> Configuring Provenance</a></li><li class="chapter-item expanded "><a href="../scallopy/module.html"><strong aria-hidden="true">5.5.</strong> Creating Module</a></li><li class="chapter-item expanded "><a href="../scallopy/module_input.html"><strong aria-hidden="true">5.6.</strong> Configuring Input Relations</a></li><li class="chapter-item expanded "><a href="../scallopy/module_output.html"><strong aria-hidden="true">5.7.</strong> Configuring Output Relations</a></li><li class="chapter-item expanded "><a href="../scallopy/foreign_function.html"><strong aria-hidden="true">5.8.</strong> Foreign Functions</a></li><li class="chapter-item expanded "><a href="../scallopy/foreign_predicate.html"><strong aria-hidden="true">5.9.</strong> Foreign Predicate</a></li><li class="chapter-item expanded "><a href="../scallopy/save_and_load.html"><strong aria-hidden="true">5.10.</strong> Saving and Loading</a></li><li class="chapter-item expanded "><a href="../scallopy/debug_proofs.html"><strong aria-hidden="true">5.11.</strong> Debugging Proofs</a></li></ol></li><li class="chapter-item expanded "><li class="part-title">Toolchain</li><li class="chapter-item expanded "><a href="../toolchain/cli.html"><strong aria-hidden="true">6.</strong> Scallop CLI</a></li><li class="chapter-item expanded "><a href="../toolchain/scli.html"><strong aria-hidden="true">7.</strong> Scallop Interpreter</a></li><li class="chapter-item expanded "><a href="../toolchain/sclrepl.html"><strong aria-hidden="true">8.</strong> Scallop REPL</a></li><li class="chapter-item expanded "><a href="../toolchain/sclc.html"><strong aria-hidden="true">9.</strong> Scallop Compiler</a></li><li class="chapter-item expanded affix "><li class="part-title">For Developers</li><li class="chapter-item expanded "><a href="../developer/index.html"><strong aria-hidden="true">10.</strong> For Developers</a></li><li class="chapter-item expanded "><a href="../developer/language_construct.html"><strong aria-hidden="true">11.</strong> New Language Construct</a></li><li class="chapter-item expanded "><a href="../developer/binding.html"><strong aria-hidden="true">12.</strong> New Binding</a></li><li class="chapter-item expanded affix "><li class="part-title">Resources</li><li class="chapter-item expanded "><a href="../grammar.html"><strong aria-hidden="true">13.</strong> Full Scallop Grammar</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><a href="../misc/contributors.html">Contributors</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Scallop Book</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="foreign-functions"><a class="header" href="#foreign-functions">Foreign Functions</a></h1>
<p>Foreign functions allows for complex value manipulation in Scallop.
Conceptually, they are pure and partial functions that operate on value(s) and return one single value only.
Functions with states, such as <code>random</code>, are not allowed as foreign functions.</p>
<h2 id="function-types"><a class="header" href="#function-types">Function Types</a></h2>
<p>In Scallop, foreign functions are generically typed with optional and variable arguments.
All the functions have a dollar sign (<code>$</code>) associated with the function name.
We use the following syntax to denote a function signature</p>
<pre><code>$FUNC_NAME&lt;ARG(: FAMILY)?, ...&gt;(
  POS_ARG: POS_ARG_TYPE, ...,
  OPT_ARG: OPT_ARG_TYPE?, ...,
  VAR_ARG_TYPE...
) -&gt; RETURN_TYPE
</code></pre>
<p>The generic arguments are specified in the <code>&lt;...&gt;</code> after the function name, and can be annotated by optional type family.
For the arguments of the function, optional arguments have to appear after all positional arguments, and the variable arg type must appear after all positional and optional arguments.
Functions must have a return type.</p>
<p>For example, the function <code>$string_char_at(s: String, i: usize) -&gt; char</code> takes in a string <code>s</code> and an index <code>i</code>, and returns the character at that location.
The two arguments <code>s</code> and <code>i</code> are both positional arguments.</p>
<p>In the function <code>$substring(s: String, b: usize, e: usize?)</code>, we have 2 positional arguments (<code>s</code> and <code>b</code>) and 1 optional argument (<code>e</code>).
This means that this substring function can be invoked with 2 or 3 arguments.
Invoking <code>$substring(&quot;hello&quot;, 3)</code> would give us <code>&quot;lo&quot;</code>, and invoking <code>$substring(&quot;hello&quot;, 1, 3)</code> would give us <code>&quot;el&quot;</code>.</p>
<p>For functions like <code>$abs&lt;T: Number&gt;(T) -&gt; T</code>, we have absolute value function taking in value of any type that is a number (including integers and floating points).
The function also returns a type the same as the input.</p>
<p>For a function like <code>$format(f: String, Any...)</code>, it looks at the format string and fill all the <code>{}</code> symbol in the string with the latter arguments.
Notice how there can be arbitrary number of arguments (variable arg) of <code>Any</code> type.
For example, we can have <code>$format(&quot;{} + {}&quot;, 3, &quot;a&quot;) ==&gt; &quot;3 + a&quot;</code> and <code>$format(&quot;{}&quot;, true) ==&gt; &quot;true&quot;</code>.</p>
<h2 id="function-failures"><a class="header" href="#function-failures">Function Failures</a></h2>
<p>Foreign functions may fail with errors such as divide-by-zero, index-out-of-bounds.
When error happens, values will not be propagated along the computation, and will be dropped silently.</p>
<p>For example, the following program makes use of the foreign function <code>$string_char_at</code>.
It walks through the indices 1, 3, and 5, and get the character on those indices of the string <code>&quot;hello&quot;</code>.</p>
<pre><code class="language-scl">rel indices = {1, 3, 5}
rel output(i, $string_char_at(&quot;hello&quot;, i)) = indices(i)
</code></pre>
<p>However, there are only 5 characters in the string, meaning that getting the <code>5</code>-th character would result in an index-out-of-bounds error.
Scallop will drop this invokation silently, resulting in only two facts being derived:</p>
<pre><code>output: {(1, 'e'), (3, 'l')}
</code></pre>
<p>Similar things happen when <code>nan</code> is derived from floating point operations, or that the foreign function fails.</p>
<h2 id="library-of-foreign-functions"><a class="header" href="#library-of-foreign-functions">Library of Foreign Functions</a></h2>
<p>We hereby list all the available foreign functions, their signatures, descriptions, and an example of how to invoke them.
The functions here are ordered alphabetically.
For some of the functions that are slightly more complicated (e.g. <code>$format</code>), please refer to the section below for more information.</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Function</th><th>Description</th><th>Example</th></tr></thead><tbody>
<tr><td style="text-align: left"><code>$abs&lt;T: Number&gt;(x: T) -&gt; T</code></td><td>Absolute value function \(\lvert x \rvert\)</td><td><code>$abs(-1)</code> =&gt; <code>1</code></td></tr>
<tr><td style="text-align: left"><code>$acos&lt;T: Float&gt;(x: T) -&gt; T</code></td><td>Arc cosine function \(\text{acos}(x)\)</td><td><code>$acos(0.0)</code> =&gt; <code>1.5708</code></td></tr>
<tr><td style="text-align: left"><code>$atan&lt;T: Float&gt;(x: T) -&gt; T</code></td><td>Arc tangent function \(\text{atan}(x)\)</td><td><code>$atan(0.0)</code> =&gt; <code>0.0</code></td></tr>
<tr><td style="text-align: left"><code>$atan2&lt;T: Float&gt;(y: T, x: T) -&gt; T</code></td><td>2-argument arc tangent function \( \text{atan}(y, x) \)</td><td><code>$atan2(0.0, 1.0)</code> =&gt; <code>0.0</code></td></tr>
<tr><td style="text-align: left"><code>$ceil&lt;T: Number&gt;(x: T) -&gt; T</code></td><td>Round <em>up</em> to closest integer \( \lceil x \rceil \)</td><td><code>$ceil(0.5)</code> =&gt; <code>1.0</code></td></tr>
<tr><td style="text-align: left"><code>$cos&lt;T: Float&gt;(x: T) -&gt; T</code></td><td>Cosine function \(\text{cos}(x)\)</td><td><code>$cos(0.0)</code> =&gt; <code>1.0</code></td></tr>
<tr><td style="text-align: left"><code>$datetime_day(d: DateTime) -&gt; u32</code></td><td>Get the day component of a <code>DateTime</code>, starting from 1</td><td><code>$datetime_day(t&quot;2023-01-01&quot;)</code> =&gt; <code>1</code></td></tr>
<tr><td style="text-align: left"><code>$datetime_month(d: DateTime) -&gt; u32</code></td><td>Get the month component of a <code>DateTime</code>, starting from 1</td><td><code>$datetime_month(t&quot;2023-01-01&quot;)</code> =&gt; <code>1</code></td></tr>
<tr><td style="text-align: left"><code>$datetime_month0(d: DateTime) -&gt; u32</code></td><td>Get the month component of a <code>DateTime</code>, starting from 0</td><td><code>$datetime_month0(t&quot;2023-01-01&quot;)</code> =&gt; <code>0</code></td></tr>
<tr><td style="text-align: left"><code>$datetime_year(d: DateTime) -&gt; i32</code></td><td>Get the year component of a <code>DateTime</code></td><td><code>$datetime_month0(t&quot;2023-01-01&quot;)</code> =&gt; <code>2023</code></td></tr>
<tr><td style="text-align: left"><code>$dot(a: Tensor, b: Tensor) -&gt; Tensor</code></td><td>Dot product of two tensors \(a \cdot b\); only available when compiled with <code>torch-tensor</code></td><td></td></tr>
<tr><td style="text-align: left"><code>$exp&lt;T: Float&gt;(x: T) -&gt; T</code></td><td>Exponential function \(e^x\)</td><td><code>$exp(0.0)</code> =&gt; <code>1.0</code></td></tr>
<tr><td style="text-align: left"><code>$exp2&lt;T: Float&gt;(x: T) -&gt; T</code></td><td>Exponential function \(2^x\) (base 2)</td><td><code>$exp2(2.0)</code> =&gt; <code>4.0</code></td></tr>
<tr><td style="text-align: left"><code>$floor&lt;T: Number&gt;(x: T) -&gt; T</code></td><td>Round <em>down</em> to closest integer \(\lfloor x \rfloor\)</td><td><code>$exp2(2)</code> =&gt; <code>4</code></td></tr>
<tr><td style="text-align: left"><code>$format(String, Any...) -&gt; String</code></td><td>Formatting string</td><td><code>$format(&quot;{} + {}&quot;, 3, &quot;a&quot;)</code> =&gt; <code>&quot;3 + a&quot;</code></td></tr>
<tr><td style="text-align: left"><code>$hash(Any...) -&gt; u64</code></td><td>Hash the given values</td><td><code>$hash(&quot;a&quot;, 3, 5.5)</code> =&gt; <code>5862532063111067262</code></td></tr>
<tr><td style="text-align: left"><code>$log&lt;T: Float&gt;(x: T) -&gt; T</code></td><td>Natural logarithm function \(\text{log}_e(x)\)</td><td><code>$log(1.0)</code> =&gt; <code>0.0</code></td></tr>
<tr><td style="text-align: left"><code>$log2&lt;T: Float&gt;(x: T) -&gt; T</code></td><td>Logarithm function \(\text{log}_2(x)\) (base 2)</td><td><code>$log2(4.0)</code> =&gt; <code>2.0</code></td></tr>
<tr><td style="text-align: left"><code>$max&lt;T: Number&gt;(T...) -&gt; T</code></td><td>Maximum \(\text{max}(x_1, x_2, \dots)\)</td><td><code>$max(4.0, 1.0, 9.5)</code> =&gt; <code>9.5</code></td></tr>
<tr><td style="text-align: left"><code>$min&lt;T: Number&gt;(T...) -&gt; T</code></td><td>Minimum \(\text{min}(x_1, x_2, \dots)\)</td><td><code>$max(4.0, 1.0, 9.5)</code> =&gt; <code>1.0</code></td></tr>
<tr><td style="text-align: left"><code>$pow&lt;T: Integer&gt;(x: T, y: u32) -&gt; T</code></td><td>Integer power function \(x^y\)</td><td><code>$pow(2.2, 2)</code> =&gt; <code>4.84</code></td></tr>
<tr><td style="text-align: left"><code>$powf&lt;T: Float&gt;(x: T, y: T) -&gt; T</code></td><td>Float power function \(x^y\)</td><td><code>$powf(4.0, 0.5)</code> =&gt; <code>2.0</code></td></tr>
<tr><td style="text-align: left"><code>$sign&lt;T: Number&gt;(x: T) -&gt; T</code></td><td>Sign function that returns \({-1, 0, 1}\) in respective types</td><td><code>$sign(-3.0)</code> =&gt; <code>-1.0</code></td></tr>
<tr><td style="text-align: left"><code>$sin&lt;T: Float&gt;(x: T) -&gt; T</code></td><td>Sine function \(\text{sin}(x)\)</td><td><code>$sin(0.0)</code> =&gt; <code>0.0</code></td></tr>
<tr><td style="text-align: left"><code>$string_char_at(s: String, i: usize) -&gt; char</code></td><td>Get the <code>i</code>-th character of string <code>s</code></td><td><code>$string_char_at(&quot;hello&quot;, 2)</code> =&gt; <code>'l'</code></td></tr>
<tr><td style="text-align: left"><code>$string_concat(String...) -&gt; String</code></td><td>Concatenate multiple strings</td><td><code>$string_concat(&quot;hello&quot;, &quot; &quot;, &quot;world&quot;)</code> =&gt; <code>&quot;hello world&quot;</code></td></tr>
<tr><td style="text-align: left"><code>$string_index_of(s: String, pat: String) -&gt; usize</code></td><td>Find the index of the first occurrence of the pattern <code>pat</code> in string <code>s</code></td><td><code>$string_index_of(&quot;hello world&quot;, &quot;world&quot;)</code> =&gt; <code>6</code></td></tr>
<tr><td style="text-align: left"><code>$string_length(s: String) -&gt; usize</code></td><td>Get the length of the string</td><td><code>$string_length(&quot;hello&quot;)</code> =&gt; <code>5</code></td></tr>
<tr><td style="text-align: left"><code>$string_lower(s: String) -&gt; String</code></td><td>To lower-case</td><td><code>$string_lower(&quot;LisA&quot;)</code> =&gt; <code>&quot;lisa&quot;</code></td></tr>
<tr><td style="text-align: left"><code>$string_trim(s: String) -&gt; String</code></td><td>Trim a string</td><td><code>$string_trim(&quot;  hello &quot;)</code> =&gt; <code>&quot;hello&quot;</code></td></tr>
<tr><td style="text-align: left"><code>$string_upper(s: String) -&gt; String</code></td><td>To upper-case</td><td><code>$string_upper(&quot;LisA&quot;)</code> =&gt; <code>&quot;LISA&quot;</code></td></tr>
<tr><td style="text-align: left"><code>$substring(s: String, b: usize, e: usize?) -&gt; String</code></td><td>Find the substring given begin index and optional the end index</td><td><code>$substring(&quot;hello world&quot;, 6)</code> =&gt; <code>&quot;world&quot;</code></td></tr>
<tr><td style="text-align: left"><code>$tan&lt;T: Number&gt;(x: T) -&gt; T</code></td><td>Tangent function \(\text{tan}(x)\)</td><td><code>$tan(0.0)</code> =&gt; <code>0.0</code></td></tr>
</tbody></table>
</div>
                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../language/loading_csv.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="../language/foreign_predicates.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../language/loading_csv.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="../language/foreign_predicates.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->
        <script src="../js/hljs_scallop.js"></script>


    </div>
    </body>
</html>
